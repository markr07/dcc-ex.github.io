.. include:: /include/include.rst
.. include:: /include/include-l2.rst
.. include:: /include/include-news.rst

:blogpost: true
:date: 28 January, 2025
:author: Fred Decker (FlightRisk)
:category: news
:tags: ex-csb1, ex-commandstation
:image: 0

.. image:: /_static/images/logos/product-logo-news.png
  :alt: DCC-EX News
  :scale: 40%
  :class: image-product-logo-float-right

If you have an issue uploading to an EX-CSB1
=============================================

We have found that there are a small number of users who can have an issue when trying to update firmware or upload EXRAIL scripts to an EX-CSB1 Command Station (or any ESP32 based device). This seems to be an issue with some USB ports on some Windows machines, but no matter what operating system or computer you have (including a Raspberry Pi) please follow these instructions to fix the issue and report it to us along with what fixed it for you.

#1. **Try a different cable.** Our number one issue is dodgy cables. Some USB cables are “charging only” and do not have all the pins inside connected to be able to transmit data. Even if you have a data cable, try another one anyway, preferably not one of the exact same brand. We have seen a surprising number of poor or invisibly damaged cables.

#2.	**Try a different serial port.** If you have multiple USB ports on your computer, try a different one. In particular, we have seen USB 3.0 ports that did not work when a USB 2.0 did.

#3.	**Try a different computer.** Very few computers show the issue, so there is a good chance that if one computer does not work, a different one will. If you have a computer with a different operating system, like iOS vs. Windows, give that a try.

#4.	**Insert a capacitor into the RESET and GND header pins.** If the issue is not a cable, then we can adjust a timing issue by adding a capacitor between RESET and GND. Find a 1 to 10uF capacitor. If it is a Tantalum or Electrolytic type, MAKE SURE TO USE THE CORRECT POLARITY. Note that on polarized capacitors, the positive leg is longer. There is also a "+" marking on Tantalum's and a stripe on the negative side for Electrolytics. The pins are clearly labeled on the underside of the CSB1.

.. image:: /_static/images/ex-csb1/capacitors.png
  :alt: Capacitors
  :scale: 85%
  :align: center

Here is a capacitor inserted into the correct pins in the header. For a permanent install, the capacitor can be soldered under the board between Reset and the closest GND solder point.

.. image:: /_static/images/ex-csb1/capacitor_fix.png
  :alt: Capacitors
  :scale: 55%
  :align: center

We are currently testing some changes that may lead to an update in EX-Installer and/or the EX-CSB1 to compensate for the issue. We need to make sure any hardware change does not affect anything else. It would not be good to be able to upload and then find your nice, shiny, Command Station won’t reboot into operating mode. If you have the issue and are a Tinkerer or an Engineer, you may be able to help us since no one on the development team has a problem computer. You could be a valuable resource to help us beta test the best solution.
